___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
"type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1.1,
  "securityGroups": [],
  "displayName": "Triggerbee Tracking",
  "categories": [
	"ANALYTICS", 
	"PERSONALIZATION",
	"CONVERSIONS"
],
  "brand": {
    "id": "Triggerbee tracking template",
    "displayName": "Load the Triggerbee tracking script with your site ID",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "Inserts the Triggerbee Tracking code on a website.",
  "containerContexts": [
    "WEB"
  ]
}




___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "siteId",
    "displayName": "Triggerbee Site ID",
    "simpleValueType": true,
    "canBeEmptyString": true,
    "help": "Enter your Triggerbee Site ID. You can find it here: https://app.triggerbee.com/settings/tag-manager",
    "valueHint": "123456"
  },
  {
    "type": "CHECKBOX",
    "name": "enableDataLayerPush",
    "checkboxText": "Send DataLayer event on successful script injection",
    "simpleValueType": true,
    "help": "By checking this box, an event called \"triggerbeeActive\" will be sent to the data layer along with the site ID and some domain parameters."
  },
  {
    "type": "CHECKBOX",
    "name": "enableDebugMode",
    "checkboxText": "Enable Debug Mode",
    "simpleValueType": true,
    "help": "Enable debug mode to log detailed information to the console.",
    "defaultValue": false
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const getUrl = require('getUrl');
const logToConsole = require('logToConsole');
const setInWindow = require('setInWindow');
const copyFromWindow = require('copyFromWindow');
const generateRandom = require('generateRandom');
const createQueue = require('createQueue');

// Site ID from the template
const siteId = data.siteId;

// Enable/Disable debug mode based on the checkbox value
const debugMode = data.enableDebugMode === true;

function debugLog(msg) {
  if (debugMode) {
    logToConsole(msg);
  }
}

// Setting mtr_site_id in the global window object
setInWindow('mtr_site_id', siteId, true);
debugLog('Set mtr_site_id on window with value: ' + siteId);

// Setting or copying mtr_custom object in the global window object
setInWindow('mtr_custom', copyFromWindow('mtr_custom') || {}, true);
debugLog('Initialized mtr_custom on window.');

// URLs for the Triggerbee scripts
const mainScriptUrl = '//t.myvisitors.se/js?site_id=' + siteId;
const secondScriptUrl = '//t.myvisitors.se/js/' + siteId +
  (getUrl().indexOf('tb-nocache') > -1 ? '?v=' + generateRandom(0, 999) : '');
debugLog('Main script URL: ' + mainScriptUrl);
debugLog('Second script URL: ' + secondScriptUrl);

// Helper function for logging errors and signaling failure
const fail = function(msg) {
  logToConsole('Error:', msg);
  data.gtmOnFailure();
};

// Create DataLayer queue for pushing events
const dataLayerPush = createQueue('dataLayer');
debugLog('DataLayer queue created.');

// Function to push the triggerbeeActive event to DataLayer
const pushToDataLayer = function() {
  if (data.enableDataLayerPush) {
    const dlObj = {
      event: "triggerbeeActive",
      data: {
        site_ID: siteId
      }
    };
    dataLayerPush(dlObj);
    debugLog('DataLayer event pushed: ' + formatObject(dlObj));
  } else {
    debugLog('DataLayer push is disabled (checkbox not enabled).');
  }
};

// Function to format objects as strings for debugging
function formatObject(obj) {
  let formattedString = '';
  for (let key in obj) {
    if (obj.hasOwnProperty(key)) {
      formattedString += key + ": " + obj[key] + ", ";
    }
  }
  return '{' + formattedString.slice(0, -2) + '}'; // Remove the last comma and space
}

// Check if Triggerbee script has already been loaded
const isScriptInjected = function() {
  const isLoaded = !!copyFromWindow('mtr') || !!copyFromWindow('triggerbee.widgets.api.init');
  if (isLoaded) {
    debugLog('Triggerbee script detected as already loaded, skipping injection.');
    return true;
  }
  debugLog('Triggerbee script not detected, proceeding with injection.');
  return false;
};

// Inject scripts if not already present
if (!isScriptInjected()) {
  injectScript(mainScriptUrl, function() {
    debugLog('Triggerbee: Main script injected successfully: ' + mainScriptUrl);

    injectScript(secondScriptUrl, function() {
      debugLog('Triggerbee: Second script injected successfully: ' + secondScriptUrl);

      pushToDataLayer();
      data.gtmOnSuccess();  // Signal successful execution
      debugLog('All scripts loaded successfully. GTM tag executed with success.');

    }, function() {
      fail('Triggerbee: Second script load failed.');
    }, 'triggerbeeSecondScriptCache');  // Unique cacheToken for the second script

  }, function() {
    fail('Triggerbee: Main script load failed.');
  }, 'triggerbeeMainScriptCache');  // Unique cacheToken for the main script

} else {
  debugLog('Skipping script injection due to existing Triggerbee script on the page.');
}



___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://t.myvisitors.se/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_url",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urlParts",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queriesAllowed",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "mtr_site_id"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "mtr_custom"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayerPush"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "mtr"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "triggerbee.widgets.api.init"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Generate Random (minmax)
  code: |
    function testGenerateRandom() {
      const min = 0;
      const max = 999;

      const randomNum = generateRandom(min, max);

      // Check if the random number is within the expected range
      if (randomNum >= min && randomNum <= max) {
        logSuccess('generateRandom() returned a value within range.');
      } else {
        logFailure('generateRandom() returned a value outside the range.');
      }

      // Check edge case where min and max are the same
      const fixedRandom = generateRandom(100, 100);
      if (fixedRandom === 100) {
        logSuccess('generateRandom() returned the fixed value when min and max are the same.');
      } else {
        logFailure('generateRandom() did not return the fixed value when min and max are the same.');
      }
    }

    // Call the test function
    testGenerateRandom();
- name: Get URL
  code: |
    function testGetUrl() {
      // Mock the expected URL for testing
      const mockUrl = 'https://brand.com?tb-nocache=true';

      // Check if getUrl returns the expected URL
      if (getUrl() === mockUrl) {
        logSuccess('getUrl() returned the correct URL.');
      } else {
        logFailure('getUrl() returned an incorrect URL.');
      }
    }

    // Call the test function
    testGetUrl();
- name: Inject script
  code: |
    function testInjectScript() {
      const url = '//t.myvisitors.se/js?site_id=' + siteId;

      // Simulate successful script injection
      injectScript(url, () => {
        logSuccess('injectScript() called onSuccess.');
      }, () => {
        logFailure('injectScript() should not call onFailure in this case.');
      });

      // Simulate failed script injection
      injectScript(url, () => {
        logFailure('injectScript() should not call onSuccess in this case.');
      }, () => {
        logSuccess('injectScript() called onFailure.');
      });
    }

    // Call the test function
    testInjectScript();
- name: Log to console
  code: |
    function testLogToConsole() {
      const logMessage = 'Test: Logging to console';

      logToConsole(logMessage);

      // Confirm if logToConsole works as expected
      logToConsole('If you see this message, logToConsole is working.');
    }

    // Call the test function
    testLogToConsole();
- name: Data layer push
  code: |
    function testDataLayerPush() {
      // Reset mock DataLayer
      mockDataLayer = [];

      // Mock data
      const enableDataLayerPush = true;

      // Function to push event to DataLayer
      const pushToDataLayer = () => {
        const dataLayer = mockCopyFromWindow('dataLayer') || [];
        dataLayer.push({
          'event': 'triggerbeeActive',
          'siteid': siteId,
          'domain': mockCopyFromWindow('location.hostname'),
          'path': mockCopyFromWindow('location.pathname')
        });
        logSuccess('DataLayer event "triggerbeeActive" pushed successfully.');
      };

      // Simulate checkbox enabled and DataLayer push
      if (enableDataLayerPush) {
        pushToDataLayer();
      }

      // Validate the push
      if (mockDataLayer.length === 1 && mockDataLayer[0].event === 'triggerbeeActive') {
        logSuccess('DataLayer push contained correct event');
        if (mockDataLayer[0].siteid === siteId && mockDataLayer[0].domain === mockDomain && mockDataLayer[0].path === mockPath) {
          logSuccess('DataLayer push contained correct parameters (siteid, domain, path)');
        } else {
          logFailure('DataLayer push did not contain correct parameters');
        }
      } else {
        logFailure('DataLayer event was not pushed correctly');
      }
    }

    // Call the test function
    testDataLayerPush();
- name: Full flow test
  code: |
    function testFullFlow() {
      // Reset mock DataLayer
      mockDataLayer = [];

      const data = {
        siteId: siteId,
        enableDataLayerPush: true,  // Simulate checkbox checked
        gtmOnSuccess: () => logSuccess('gtmOnSuccess was called after successful script injections'),
        gtmOnFailure: () => logFailure('gtmOnFailure should not be called in this case')
      };

      // Mock injectScript to simulate success
      injectScript('//t.myvisitors.se/js?site_id=' + data.siteId, () => {
        logSuccess('First script injected successfully');

        injectScript('//t.myvisitors.se/js/' + data.siteId + '?v=' + generateRandom(0, 999), () => {
          logSuccess('Second script injected successfully');

          // Trigger DataLayer push if enabled
          if (data.enableDataLayerPush) {
            const dataLayer = mockCopyFromWindow('dataLayer') || [];
            dataLayer.push({
              'event': 'triggerbeeActive',
              'siteid': data.siteId,
              'domain': mockCopyFromWindow('location.hostname'),
              'path': mockCopyFromWindow('location.pathname')
            });
            logSuccess('DataLayer event "triggerbeeActive" pushed successfully.');
          }

          // Mark GTM as success
          data.gtmOnSuccess();

        }, data.gtmOnFailure);

      }, data.gtmOnFailure);

      // Validate DataLayer push
      if (data.enableDataLayerPush && mockDataLayer.length > 0) {
        if (mockDataLayer[0].event === 'triggerbeeActive' &&
            mockDataLayer[0].siteid === data.siteId &&
            mockDataLayer[0].domain === mockDomain &&
            mockDataLayer[0].path === mockPath) {
          logSuccess('Full flow: DataLayer event pushed with correct parameters');
        } else {
          logFailure('Full flow: DataLayer event missing or incorrect');
        }
      }
    }

    // Call the test function
    testFullFlow();
setup: |-
  // Setup section
  const injectScript = require('injectScript');
  const generateRandom = require('generateRandom');
  const logToConsole = require('logToConsole');
  const getUrl = require('getUrl');
  const copyFromWindow = require('copyFromWindow');

  // Mock DataLayer array to simulate pushes
  let mockDataLayer = [];

  // Mock values for testing
  const mockDomain = 'brand.com';
  const mockPath = '/se';
  const siteId = '123456';

  // Simulate the copyFromWindow function
  const mockCopyFromWindow = (key) => {
    if (key === 'location.hostname') return mockDomain;
    if (key === 'location.pathname') return mockPath;
    if (key === 'dataLayer') return mockDataLayer;
    return undefined;
  };

  // Mock log functions
  const logSuccess = (message) => logToConsole('Test Passed: ' + message);
  const logFailure = (message) => logToConsole('Test Failed: ' + message);


___NOTES___

Created on 24/10/2024, 14:23:28
Updated on 14/05/2025, 13:12
